<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./stories.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap" />

    <style>
        @font-face {
            font-family: "Gotham Pro";
            src: url("./font/GothamPro-Light.ttf");
            font-weight: 300;
        }
        
        @font-face {
            font-family: "Gotham Pro";
            src: url("./font/GothamPro.ttf");
            font-weight: 400;
        }
        
        @font-face {
            font-family: "Gotham Pro";
            src: url("./font/GothamPro-Medium.ttf");
            font-weight: 500;
        }
        
        @font-face {
            font-family: "Gotham Pro";
            src: url("./font/GothamPro-Bold.ttf");
            font-weight: 700;
        }
        
        @font-face {
            font-family: "Gotham Pro";
            src: url("./font/GothamPro-Black.ttf");
            font-weight: 900;
        }
    </style>
</head>

<body>
    <div class="stories7">
        <div class="footer1">
            <img class="footer-child1" alt="" src="./public/group-611@2x.png" />

            <div class="footer-inner1">
                <div class="instagram-group">
                    <div class="instagram1">INSTAGRAM</div>
                    <div class="connect-us10">CONNECT US</div>
                    <div class="connect-us11">CONNECT US</div>
                    <div class="connect-us12">CONNECT US</div>
                    <div class="connect-us13">CONNECT US</div>
                    <div class="connect-us14">CONNECT US</div>
                    <div class="connect-us15">CONNECT US</div>
                    <div class="connect-us16">CONNECT US</div>
                    <div class="connect-us17">CONNECT US</div>
                    <div class="connect-us18">CONNECT US</div>
                    <div class="connect-us19">CONNECT US</div>
                    <div class="facebook1">Facebook</div>
                    <div class="pinterest1">Pinterest</div>
                    <div class="youtube1">YOUTUBE</div>
                    <div class="vk1">VK</div>
                </div>
            </div>
            <div class="privacy-policy1">Privacy policy / terms of use</div>
            <div class="footer-child2"></div>
        </div>
        <div class="menu15">
            <div class="rectangle12"></div>
            <div class="srch-parent7">
                <b class="srch10" id="srchText">srch</b>
                <div class="cart-4-group" id="groupContainer2">
                    <div class="cart-41">
                        <b>cart </b>
                        <span class="span10">4</span>
                    </div>
                    <div class="line41"></div>
                    <div class="line42"></div>
                </div>
                <div class="menu-parent1" id="groupContainer3">
                    <b class="menu16">MENU</b>
                    <img class="group-child9" alt="" src="./public/group-2.svg" />
                </div>
            </div>
        </div>
        <div class="stories-parent">
            <b class="stories8">STORIES</b>
            <div class="main-page-parent" id="groupContainer5">
                <div class="main-page1">Main page /</div>
                <div class="group-child10"></div>
            </div>
        </div>
        <div class="group-parent">
            <div class="rectangle-parent">
                <img class="rectangle-icon1" alt="" src="./public/rectangle1@2x.png" />

                <div class="bella">BELLA</div>
                <div class="roma">ROMA</div>
            </div>
            <div class="rectangle-group">
                <img class="rectangle-icon1" alt="" src="./public/rectangle2@2x.png" />

                <div class="denim">DENIM</div>
                <div class="denim1">DENIM</div>
                <div class="on">ON</div>
            </div>
            <div class="rectangle-container">
                <img class="rectangle-icon1" alt="" src="./public/rectangle3@2x.png" />

                <div class="luka-over">LUKA OVER</div>
                <div class="the-white-light-container">
                    <span>THE </span>
                    <span class="white">WHITE</span>
                    <span> LIGHT</span>
                </div>
            </div>
            <div class="selected-parent">
                <div class="selected">SELECTED</div>
                <div class="line43"></div>
            </div>
            <button class="add-picture-button" onclick="addPicture()">Add Your Story</button>
            <input type="file" id="fileInput" style="display: none;" accept="image/*">
            <input class="story-text-input" type="text" id="textInput" placeholder="Enter description">
        </div>
       
        <div class="stories-child" id="storiesChild"></div>
        <!-- <div class="rectangle-parent1">
            <img class="rectangle-icon4" alt="" src="./public/rectangle4@2x.png" />

            <b class="high-voltage">HIGH VOLTAGE</b>
            <div class="spring-summer-woman-2019">Spring-summer. Woman 2019.</div>
        </div> -->
        <div class="rectangle-parent2" id="groupContainer13">
            <img class="rectangle-icon5" alt="" src="./public/rectangle5@2x.png" />

            <b class="beyond-nature">BEYOND NATURE</b>
            <div class="spring-summer-trf-2019">Spring-summer. TRF 2019.</div>
        </div>
        <div class="rectangle-parent3">
            <img class="rectangle-icon6" alt="" src="./public/rectangle6@2x.png" />

            <b class="traveler">Traveler</b>
            <div class="spring-summer-man-2019">Spring-summer. Man 2019.</div>
        </div>
        <div class="rectangle-parent4">
            <img class="rectangle-icon7" alt="" src="./public/rectangle7@2x.png" />

            <b class="the-tourist">THE TOURIST</b>
            <div class="spring-summer-woman-20191">Spring-summer. Woman 2019.</div>
        </div>
        <!-- <div class="rectangle-parent5">
            <img class="rectangle-icon8" alt="" src="./public/rectangle8@2x.png" />

            <b class="tailoring">TAILORING</b>
            <div class="spring-summer-man-all">Spring-summer. Man. All time.</div>
        </div> -->
        <img class="image-removebg-preview-1-31" alt="" src="./public/imageremovebgpreview-1-3@2x.png" id="imageRemovebgPreview13" />

        <img class="image-removebg-preview-w-11" alt="" src="./public/imageremovebgpreview-w-1@2x.png" />
        
    </div>

    <script>
        var srchText = document.getElementById("srchText");
        if (srchText) {
            srchText.addEventListener("click", function(e) {
                window.location.href = "./search.html";
            });
        }

        var groupContainer2 = document.getElementById("groupContainer2");
        if (groupContainer2) {
            groupContainer2.addEventListener("click", function(e) {
                window.location.href = "./cart.html";
            });
        }

        var groupContainer3 = document.getElementById("groupContainer3");
        if (groupContainer3) {
            groupContainer3.addEventListener("click", function(e) {
                window.location.href = "./menu1.html";
            });
        }

        var groupContainer5 = document.getElementById("groupContainer5");
        if (groupContainer5) {
            groupContainer5.addEventListener("click", function(e) {
                window.location.href = "./menu1.html";
            });
        }

        var groupContainer13 = document.getElementById("groupContainer13");
        if (groupContainer13) {
            groupContainer13.addEventListener("click", function(e) {
                window.location.href = "./story.html";
            });
        }

        var imageRemovebgPreview13 = document.getElementById("imageRemovebgPreview13");
        if (imageRemovebgPreview13) {
            imageRemovebgPreview13.addEventListener("click", function(e) {
                window.location.href = "./index.html";
            });
        }
        var srchText = document.getElementById("srchText");
        function addPicture() {
            var fileInput = document.getElementById("fileInput");
            var textInput = document.getElementById("textInput");
            fileInput.addEventListener("change", function(e) {
                var file = e.target.files[0];

                if (file) {
                // Create a FileReader object to read the file
                var reader = new FileReader();

                reader.onload = function(event) {
                    var img = new Image();
                    img.onload = function() {
                    var targetWidth = 1500; // Set the desired width for the resized image
                    var targetHeight = 1000; // Set the desired height for the resized image
                    var canvas = document.createElement("canvas");
                    var ctx = canvas.getContext("2d");

                    // Calculate the aspect ratio of the original image
                    var aspectRatio = img.width / img.height;

                    // Calculate the dimensions for resizing while maintaining the aspect ratio
                    var width, height;
                    if (aspectRatio > 1) {
                        width = targetWidth;
                        height = width / aspectRatio;
                    } else {
                        height = targetHeight;
                        width = height * aspectRatio;
                    }

                    // Adjust the canvas size dynamically based on the aspect ratio
                    canvas.width = width;
                    canvas.height = height;

                    // Draw the image on the canvas with the desired dimensions
                    ctx.drawImage(img, 0, 0, width, height);

                    // Create a new image element with the resized image
                    var newImage = document.createElement("img");
                    newImage.src = canvas.toDataURL("image/jpeg"); // You can specify the desired image format here
                    newImage.classList.add("story-image");

                    var text = document.getElementById("textInput").value;
                    var newText = document.createElement("div");
                    newText.classList.add("story-text");
                    newText.innerHTML = text;

                    

                    // Check if the image already exists
                    var images = storiesChild.getElementsByClassName("story-image");
                    var isImageExist = false;
                    for (var i = 0; i < images.length; i++) {
                        if (images[i].src === newImage.src) {
                        isImageExist = true;
                        break;
                        }
                    }

                    if (!isImageExist) {
                        // Add the new image to the storiesChild element
                        var container = document.createElement("div");
                        container.classList.add("story-container");
                        container.appendChild(newImage);
                        container.appendChild(newText);

                        storiesChild.appendChild(container);

                        // Add a blank space after the new image
                        var blankSpace = document.createElement("div");
                        blankSpace.classList.add("blank-space");
                        storiesChild.appendChild(blankSpace);

                        // Scroll to the bottom of the storiesChild element
                        storiesChild.scrollTop = storiesChild.scrollHeight;
                        textInput.value = "";
                    }
                    };
                    img.src = event.target.result;
                };

                reader.readAsDataURL(file);
                }
            });
            fileInput.click();
        }

    </script>
</body>

</html>

